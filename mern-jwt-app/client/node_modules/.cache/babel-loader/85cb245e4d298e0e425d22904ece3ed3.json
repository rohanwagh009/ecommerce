{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = \"http://localhost:5000/api/cart\";\n\n// 1. Add item to cart (POST)\nexport const addToCart = async (productId, quantity) => {\n  const token = localStorage.getItem(\"token\");\n  const config = {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = {\n    productId,\n    quantity\n  };\n  const response = await axios.post(API_URL, body, config);\n  return response.data;\n};\n\n// 2. Get user's cart (GET)\nexport const getCart = async () => {\n  const token = localStorage.getItem(\"token\");\n  const config = {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  };\n  const response = await axios.get(API_URL, config);\n  return response.data;\n};\n\n// 3. Update item quantity (PUT)\nexport const updateCartItem = async (productId, quantity) => {\n  const token = localStorage.getItem(\"token\");\n  const config = {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = {\n    quantity\n  };\n  // PUT request to /api/cart/:productId\n  const response = await axios.put(`${API_URL}/${productId}`, body, config);\n  return response.data;\n};\n\n// 4. Remove item from cart (DELETE) - FIX FOR THE ERROR\nexport const removeFromCart = async productId => {\n  const token = localStorage.getItem(\"token\");\n  const config = {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  };\n\n  // DELETE request to /api/cart/:productId\n  const response = await axios.delete(`${API_URL}/${productId}`, config);\n  return response.data;\n};","map":{"version":3,"names":["axios","API_URL","addToCart","productId","quantity","token","localStorage","getItem","config","headers","Authorization","body","response","post","data","getCart","get","updateCartItem","put","removeFromCart","delete"],"sources":["C:/Users/Acer/Desktop/mern-jwt-app/mern-jwt-app/client/src/api/cart.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_URL = \"http://localhost:5000/api/cart\";\r\n\r\n// 1. Add item to cart (POST)\r\nexport const addToCart = async (productId, quantity) => {\r\n  const token = localStorage.getItem(\"token\");\r\n  const config = {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n\r\n  const body = { productId, quantity };\r\n  const response = await axios.post(API_URL, body, config);\r\n  return response.data;\r\n};\r\n\r\n// 2. Get user's cart (GET)\r\nexport const getCart = async () => {\r\n  const token = localStorage.getItem(\"token\");\r\n  const config = {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  };\r\n\r\n  const response = await axios.get(API_URL, config);\r\n  return response.data;\r\n};\r\n\r\n// 3. Update item quantity (PUT)\r\nexport const updateCartItem = async (productId, quantity) => {\r\n  const token = localStorage.getItem(\"token\");\r\n  const config = {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n\r\n  const body = { quantity };\r\n  // PUT request to /api/cart/:productId\r\n  const response = await axios.put(`${API_URL}/${productId}`, body, config);\r\n  return response.data;\r\n};\r\n\r\n// 4. Remove item from cart (DELETE) - FIX FOR THE ERROR\r\nexport const removeFromCart = async (productId) => {\r\n  const token = localStorage.getItem(\"token\");\r\n  const config = {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  };\r\n\r\n  // DELETE request to /api/cart/:productId\r\n  const response = await axios.delete(`${API_URL}/${productId}`, config);\r\n  return response.data;\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,gCAAgC;;AAEhD;AACA,OAAO,MAAMC,SAAS,GAAG,MAAAA,CAAOC,SAAS,EAAEC,QAAQ,KAAK;EACtD,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,MAAM,GAAG;IACbC,OAAO,EAAE;MACPC,aAAa,EAAE,UAAUL,KAAK,EAAE;MAChC,cAAc,EAAE;IAClB;EACF,CAAC;EAED,MAAMM,IAAI,GAAG;IAAER,SAAS;IAAEC;EAAS,CAAC;EACpC,MAAMQ,QAAQ,GAAG,MAAMZ,KAAK,CAACa,IAAI,CAACZ,OAAO,EAAEU,IAAI,EAAEH,MAAM,CAAC;EACxD,OAAOI,QAAQ,CAACE,IAAI;AACtB,CAAC;;AAED;AACA,OAAO,MAAMC,OAAO,GAAG,MAAAA,CAAA,KAAY;EACjC,MAAMV,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,MAAM,GAAG;IACbC,OAAO,EAAE;MACPC,aAAa,EAAE,UAAUL,KAAK;IAChC;EACF,CAAC;EAED,MAAMO,QAAQ,GAAG,MAAMZ,KAAK,CAACgB,GAAG,CAACf,OAAO,EAAEO,MAAM,CAAC;EACjD,OAAOI,QAAQ,CAACE,IAAI;AACtB,CAAC;;AAED;AACA,OAAO,MAAMG,cAAc,GAAG,MAAAA,CAAOd,SAAS,EAAEC,QAAQ,KAAK;EAC3D,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,MAAM,GAAG;IACbC,OAAO,EAAE;MACPC,aAAa,EAAE,UAAUL,KAAK,EAAE;MAChC,cAAc,EAAE;IAClB;EACF,CAAC;EAED,MAAMM,IAAI,GAAG;IAAEP;EAAS,CAAC;EACzB;EACA,MAAMQ,QAAQ,GAAG,MAAMZ,KAAK,CAACkB,GAAG,CAAC,GAAGjB,OAAO,IAAIE,SAAS,EAAE,EAAEQ,IAAI,EAAEH,MAAM,CAAC;EACzE,OAAOI,QAAQ,CAACE,IAAI;AACtB,CAAC;;AAED;AACA,OAAO,MAAMK,cAAc,GAAG,MAAOhB,SAAS,IAAK;EACjD,MAAME,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,MAAM,GAAG;IACbC,OAAO,EAAE;MACPC,aAAa,EAAE,UAAUL,KAAK;IAChC;EACF,CAAC;;EAED;EACA,MAAMO,QAAQ,GAAG,MAAMZ,KAAK,CAACoB,MAAM,CAAC,GAAGnB,OAAO,IAAIE,SAAS,EAAE,EAAEK,MAAM,CAAC;EACtE,OAAOI,QAAQ,CAACE,IAAI;AACtB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}